{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/judynaegeli/Documents/Bootcamp/Personal-Code/uw-sea-fsf-pt-06-2020-u-c/21-MERN/02-Homework/react-google-books/client/src/pages/Search.js\";\nimport React, { Component } from \"react\";\nimport SearchBar from \"../components/SearchBar\";\nimport ResultsContainer from \"../components/ResultsContainer\";\nimport API from '../utils/API';\nimport ResultsCard from \"../components/ResultsCard\";\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      books: [],\n      query: \"\",\n      message: \"Search For A Book To Begin!\"\n    };\n\n    this.refreshResults = () => {\n      window.location.reload(false);\n    };\n\n    this.handleInputChange = event => {\n      const value = event.target.value;\n      this.setState({\n        query: value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      API.searchGoogle(this.state.query).then(res => this.setState({\n        books: res.data.items,\n        query: \"\"\n      })).catch(() => {\n        this.setState({\n          books: [],\n          query: \"\",\n          message: \"No book found\"\n        });\n      });\n    };\n\n    this.handleAddFavorite = id => {\n      const book = this.state.books.find(book => book.id === id);\n      API.addtoFavorites({\n        googleId: book.id,\n        title: book.volumeInfo.title,\n        link: book.volumeInfo.infoLink,\n        authors: book.volumeInfo.authors,\n        description: book.volumeInfo.description,\n        image: book.volumeInfo.imageLinks.thumbnail\n      }).then(this.refreshResults());\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Search for Books\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n          handleInputChange: this.handleInputChange,\n          handleFormSubmit: this.handleFormSubmit,\n          query: this.state.query,\n          message: this.state.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ResultsContainer, {\n        children: this.state.books.map(book => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(ResultsCard, {\n            id: book._id,\n            googleId: book.id,\n            image: book.volumeInfo.imageLinks.thumbnail,\n            title: book.volumeInfo.title,\n            authors: book.volumeInfo.authors,\n            description: book.volumeInfo.description,\n            link: book.volumeInfo.infoLink,\n            value: \"Add to Favorites\",\n            onClick: () => this.handleAddFavorite(book.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/judynaegeli/Documents/Bootcamp/Personal-Code/uw-sea-fsf-pt-06-2020-u-c/21-MERN/02-Homework/react-google-books/client/src/pages/Search.js"],"names":["React","Component","SearchBar","ResultsContainer","API","ResultsCard","Search","state","books","query","message","refreshResults","window","location","reload","handleInputChange","event","value","target","setState","handleFormSubmit","preventDefault","searchGoogle","then","res","data","items","catch","handleAddFavorite","id","book","find","addtoFavorites","googleId","title","volumeInfo","link","infoLink","authors","description","image","imageLinks","thumbnail","render","map","_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SearchBar from \"../components/SearchBar\";\nimport ResultsContainer from \"../components/ResultsContainer\";\nimport API from '../utils/API';\nimport ResultsCard from \"../components/ResultsCard\";\n\nclass Search extends Component {\n  state = {\n    books: [],\n    query: \"\",\n    message: \"Search For A Book To Begin!\"\n  }\n\n  refreshResults = () => {\n    window.location.reload(false)\n  }\n\n  handleInputChange = event => {\n    const value = event.target.value;\n    this.setState({\n      query: value\n    });\n  };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    API.searchGoogle(this.state.query)\n      .then(res => \n        this.setState({\n          books: res.data.items,\n          query: \"\"\n        })\n      ).catch(() => {\n        this.setState({\n          books: [],\n          query: \"\",\n          message: \"No book found\"\n        })\n      })\n  };\n\n  handleAddFavorite = id => {\n    const book = this.state.books.find(book => book.id === id);\n\n    API.addtoFavorites({\n      googleId: book.id,\n      title: book.volumeInfo.title,\n      link: book.volumeInfo.infoLink,\n      authors: book.volumeInfo.authors,\n      description: book.volumeInfo.description,\n      image: book.volumeInfo.imageLinks.thumbnail,\n    }).then(\n      this.refreshResults()\n    )\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"container-fluid\">\n          <div className=\"text-center\">\n            <h2>Search for Books</h2>\n          </div>\n          <SearchBar\n            handleInputChange={this.handleInputChange}\n            handleFormSubmit={this.handleFormSubmit}\n            query={this.state.query}\n            message={this.state.message} />\n        </div>\n        <ResultsContainer>\n            {this.state.books.map(book => (\n              <div>\n                <ResultsCard\n                  id={book._id}\n                  googleId={book.id}\n                  image={book.volumeInfo.imageLinks.thumbnail}\n                  title={book.volumeInfo.title}\n                  authors={book.volumeInfo.authors}\n                  description={book.volumeInfo.description}\n                  link={book.volumeInfo.infoLink}\n                  value=\"Add to Favorites\"\n                  onClick={() => this.handleAddFavorite(book.id)} />\n              </div>\n            ))}\n        </ResultsContainer>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}