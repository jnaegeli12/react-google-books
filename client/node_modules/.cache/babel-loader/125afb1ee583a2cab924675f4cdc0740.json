{"ast":null,"code":"import _slicedToArray from\"/Users/judynaegeli/Documents/Bootcamp/Personal-Code/uw-sea-fsf-pt-06-2020-u-c/21-MERN/02-Homework/react-google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import API from\"../utils/API\";import ResultsContainer from\"../components/ResultsContainer\";import ResultsCard from\"../components/ResultsCard\";function Saved(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),favorites=_useState2[0],setFavorites=_useState2[1];useEffect(function(){loadFavorites();},[]);function loadFavorites(){API.getFavorites().then(function(res){console.log(res.data);setFavorites(res.data);}).catch(function(err){return console.log(err);});};function refreshResults(){window.location.reload(false);}function handleRemove(id){var book=favorites.find(function(favorite){return favorite._id===id;});console.log(book._id);API.removeFavorites(book._id);refreshResults();};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Your Favorites\"})}),/*#__PURE__*/_jsx(ResultsContainer,{children:favorites.map(function(favorite){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ResultsCard,{id:favorite._id,googleId:favorite.googleId,image:favorite.image,title:favorite.title,authors:favorite.authors,description:favorite.description,link:favorite.link,value:\"Remove from Favorites\",onClick:function onClick(){return handleRemove(favorite._id);}})});})})]})});}export default Saved;// <div className=\"card w-100\" key={favorite.id}>\n//     <div className=\"card-body\">\n//         <img src={favorite.image} alt=\"cover\" />\n//         <h3 className=\"card-text\">{favorite.title}</h3>\n//         <h4 className=\"card-text\">{favorite.authors}</h4>\n//         <p className=\"card-text\">{favorite.description}</p>\n//         <div className=\"d-flex w-100 justify-content-between\">\n//         <a href={favorite.link} target=\"_blank\" rel=\"noreferrer\" className=\"btn btn-outline-dark\">More details</a>\n//         <button onClick={favorite.handleRemove} className=\"btn btn-outline-dark\">Remove from Favorites</button>\n//         </div>\n//     </div>\n// </div>","map":{"version":3,"sources":["/Users/judynaegeli/Documents/Bootcamp/Personal-Code/uw-sea-fsf-pt-06-2020-u-c/21-MERN/02-Homework/react-google-books/client/src/pages/Favorites.js"],"names":["React","useState","useEffect","API","ResultsContainer","ResultsCard","Saved","favorites","setFavorites","loadFavorites","getFavorites","then","res","console","log","data","catch","err","refreshResults","window","location","reload","handleRemove","id","book","find","favorite","_id","removeFavorites","map","googleId","image","title","authors","description","link"],"mappings":"0UAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,gCAA7B,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CAEA,QAASC,CAAAA,KAAT,EAAiB,eACmBL,QAAQ,CAAC,EAAD,CAD3B,wCACRM,SADQ,eACGC,YADH,eAGfN,SAAS,CAAC,UAAM,CACdO,aAAa,GACd,CAFQ,CAEN,EAFM,CAAT,CAIA,QAASA,CAAAA,aAAT,EAAyB,CACvBN,GAAG,CAACO,YAAJ,GACGC,IADH,CACQ,SAAAC,GAAG,CAAI,CACXC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACAP,YAAY,CAACI,GAAG,CAACG,IAAL,CAAZ,CACD,CAJH,EAKGC,KALH,CAKS,SAAAC,GAAG,QAAIJ,CAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAAJ,EALZ,EAMD,EAED,QAASC,CAAAA,cAAT,EAA0B,CACxBC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EACD,CAED,QAASC,CAAAA,YAAT,CAAsBC,EAAtB,CAA0B,CACxB,GAAMC,CAAAA,IAAI,CAAGjB,SAAS,CAACkB,IAAV,CAAe,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,GAAT,GAAiBJ,EAArB,EAAvB,CAAb,CACAV,OAAO,CAACC,GAAR,CAAYU,IAAI,CAACG,GAAjB,EACAxB,GAAG,CAACyB,eAAJ,CAAoBJ,IAAI,CAACG,GAAzB,EACAT,cAAc,GACf,EAED,mBACE,kCACI,aAAK,SAAS,CAAC,iBAAf,wBACE,YAAK,SAAS,CAAC,aAAf,uBACE,sCADF,EADF,cAIE,KAAC,gBAAD,WACGX,SAAS,CAACsB,GAAV,CAAc,SAAAH,QAAQ,qBACnB,kCACA,KAAC,WAAD,EACE,EAAE,CAAEA,QAAQ,CAACC,GADf,CAEE,QAAQ,CAAED,QAAQ,CAACI,QAFrB,CAGE,KAAK,CAAEJ,QAAQ,CAACK,KAHlB,CAIE,KAAK,CAAEL,QAAQ,CAACM,KAJlB,CAKE,OAAO,CAAEN,QAAQ,CAACO,OALpB,CAME,WAAW,CAAEP,QAAQ,CAACQ,WANxB,CAOE,IAAI,CAAER,QAAQ,CAACS,IAPjB,CAQE,KAAK,CAAC,uBARR,CASE,OAAO,CAAE,yBAAMb,CAAAA,YAAY,CAACI,QAAQ,CAACC,GAAV,CAAlB,EATX,EADA,EADmB,EAAtB,CADH,EAJF,GADJ,EADF,CA2BD,CAED,cAAerB,CAAAA,KAAf,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport API from \"../utils/API\";\nimport ResultsContainer from \"../components/ResultsContainer\";\nimport ResultsCard from \"../components/ResultsCard\";\n\nfunction Saved() {\n  const [favorites, setFavorites] = useState([]);\n\n  useEffect(() => {\n    loadFavorites();\n  }, []);\n\n  function loadFavorites() {\n    API.getFavorites()\n      .then(res => {\n        console.log(res.data);\n        setFavorites(res.data)\n      })\n      .catch(err => console.log(err));\n  };\n\n  function refreshResults() {\n    window.location.reload(false)\n  }\n\n  function handleRemove(id) {\n    const book = favorites.find(favorite => favorite._id === id);\n    console.log(book._id);\n    API.removeFavorites(book._id);\n    refreshResults();\n  };\n\n  return (\n    <div>\n        <div className=\"container-fluid\">\n          <div className=\"text-center\">\n            <h2>Your Favorites</h2>\n          </div>\n          <ResultsContainer>\n            {favorites.map(favorite => (\n                <div>\n                <ResultsCard\n                  id={favorite._id}\n                  googleId={favorite.googleId} \n                  image={favorite.image}\n                  title={favorite.title}\n                  authors={favorite.authors}\n                  description={favorite.description}\n                  link={favorite.link}\n                  value=\"Remove from Favorites\"\n                  onClick={() => handleRemove(favorite._id)}\n                />\n              </div>\n              )\n            )}\n          </ResultsContainer>\n        </div>\n    </div>\n  );\n}\n\nexport default Saved;\n\n// <div className=\"card w-100\" key={favorite.id}>\n//     <div className=\"card-body\">\n//         <img src={favorite.image} alt=\"cover\" />\n//         <h3 className=\"card-text\">{favorite.title}</h3>\n//         <h4 className=\"card-text\">{favorite.authors}</h4>\n//         <p className=\"card-text\">{favorite.description}</p>\n//         <div className=\"d-flex w-100 justify-content-between\">\n//         <a href={favorite.link} target=\"_blank\" rel=\"noreferrer\" className=\"btn btn-outline-dark\">More details</a>\n//         <button onClick={favorite.handleRemove} className=\"btn btn-outline-dark\">Remove from Favorites</button>\n//         </div>\n//     </div>\n// </div>"]},"metadata":{},"sourceType":"module"}