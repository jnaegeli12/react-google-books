(this["webpackJsonpreact-books"]=this["webpackJsonpreact-books"]||[]).push([[0],{60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),s=a(25),i=a.n(s),o=a(10),l=a(2),d=a(26),j=a(27),b=a(31),h=a(29);var u=function(e){return Object(n.jsxs)("form",{className:"form-inline center",children:[Object(n.jsx)("input",{onChange:e.handleInputChange,value:e.query,className:"form-control mr-sm-2",type:"search",placeholder:"Search for a book","aria-label":"Search"}),Object(n.jsx)("button",{onClick:e.handleFormSubmit,className:"btn btn-outline-success my-2 my-sm-0",type:"submit",children:"Search"})]})};var v=function(e){return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h2",{children:"Search Results"}),e.children]})},m=a(11),x=a.n(m),O={searchGoogle:function(e){var t="https://www.googleapis.com/books/v1/volumes?key=AIzaSyAIY4R3KJo33zPFCjFeSoMxrFgHZBHiuw4&q="+e;return x.a.get(t)},getFavorites:function(){return console.log("this is the API"),x.a.get("/api/books/")},addtoFavorites:function(e){return console.log(e),x.a.post("api/books",e)},removeFavorites:function(e){return x.a.delete("api/books",e)}};var f=function(e){return Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"card w-100",children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("img",{src:e.image,alt:"cover"}),Object(n.jsx)("h3",{className:"card-text",children:e.title}),Object(n.jsx)("h4",{className:"card-text",children:e.authors}),Object(n.jsx)("p",{className:"card-text",children:e.description}),Object(n.jsx)("div",{className:"d-flex w-100 justify-content-between",children:Object(n.jsx)("a",{href:e.link,target:"_blank",rel:"noreferrer",className:"btn btn-outline-dark",children:"More details"})})]})},e.googleId)})};var g=function(e){return Object(n.jsx)("button",{onClick:e.onClick,className:"btn btn-outline-dark",children:"Add to Favorites"})},p=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={books:[],query:""},e.handleInputChange=function(t){var a=t.target.value;e.setState({query:a})},e.handleFormSubmit=function(t){t.preventDefault(),O.searchGoogle(e.state.query).then((function(t){return e.setState({books:t.data.items})}))},e.handleAddFavorite=function(t){var a=e.state.books.find((function(e){return e.id===t}));O.addtoFavorites({googleId:a.id,title:a.volumeInfo.title,link:a.volumeInfo.infoLink,authors:a.volumeInfo.authors,description:a.volumeInfo.description,image:a.volumeInfo.imageLinks.thumbnail})},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("h2",{children:"Search for Books"})}),Object(n.jsx)(u,{handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit,query:this.state.query})]}),Object(n.jsx)(v,{children:this.state.books.map((function(t){return Object(n.jsxs)("div",{children:[Object(n.jsx)(f,{googleId:t.id,image:t.volumeInfo.imageLinks.thumbnail,title:t.volumeInfo.title,authors:t.volumeInfo.authors.join(", "),description:t.volumeInfo.description,link:t.volumeInfo.infoLink}),Object(n.jsx)(g,{onClick:function(){return e.handleAddFavorite(t.id)}})]})}))})]})}}]),a}(c.Component),k=a(30);var N=function(){var e=Object(c.useState)([]),t=Object(k.a)(e,2),a=t[0],r=t[1];return Object(c.useEffect)((function(){O.getFavorites().then((function(e){console.log(e.data),r(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsx)("h2",{children:"Your Favorites"}),Object(n.jsx)("div",{className:"row",children:a.map((function(e){return Object(n.jsx)("div",{className:"card w-100",children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("img",{src:e.image,alt:"cover"}),Object(n.jsxs)("small",{children:["ISBN: ",e.isbn]}),Object(n.jsx)("h3",{className:"card-text",children:e.title}),Object(n.jsx)("h4",{className:"card-text",children:e.authors}),Object(n.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(n.jsx)("a",{href:e.link,target:"_blank",rel:"noreferrer",className:"btn btn-outline-dark",children:"More details"}),Object(n.jsx)("button",{onClick:e.handleRemove,className:"btn btn-outline-dark",children:"Remove from Favorites"})]})]})},e.id)}))})]})})})};var y=function(){return Object(n.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(n.jsxs)("div",{className:"navbar-nav",children:[Object(n.jsx)(o.b,{className:"nav-item nav-link",to:"/search",children:Object(n.jsx)("h3",{children:"Search"})}),Object(n.jsx)(o.b,{className:"nav-item nav-link",to:"/favorites",children:Object(n.jsx)("h3",{children:"Favorites"})})]})})]})};var I=function(){return Object(n.jsx)("div",{className:"jumbotron jumbotron-fluid",children:Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("h1",{children:"Google Book Search"}),Object(n.jsx)("p",{className:"lead",children:"Search the entire Google database of books and save them to your personal list."})]})})};var S=function(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(y,{className:"active"}),Object(n.jsx)(I,{}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:["/","/search"],children:Object(n.jsx)(p,{})}),Object(n.jsx)(l.a,{exact:!0,path:"/favorites",children:Object(n.jsx)(N,{})})]})]})})};a(59),a(60);i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(S,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.ba55fdf6.chunk.js.map